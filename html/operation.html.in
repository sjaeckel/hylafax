<HTML>
<HEAD>
<TITLE>
HylaFAX Server Operation
</TITLE>
</HEAD>

<BODY>

<BASEFONT SIZE=4>
<B><FONT SIZE=+3>H</FONT>YLA<FONT SIZE=+1>FAX</FONT> <FONT SIZE=+2>S</FONT>ERVER <FONT SIZE=+2>O</FONT>PERATION</B>
<BASEFONT SIZE=3>

<HR SIZE=4>

In normal operation HylaFAX server machines run three independent programs:

<UL>
<LI>faxq, the central scheduler process
<LI>faxgetty, the ``front door'' program that handles incoming calls, and
<LI>faxd.recv, the program that handles the client-server protocol for
   submitting jobs and retrieving status information.
</UL>

The faxq scheduler process is normally started once when the system is booted.
If faxgetty processes are to be used, they should be setup so that the
<A HREF="@CGIPATH@/manpage?1+init">init(1M)</A>. 
program will start them on each port where a fax
modem resides.
The faxd.recv program is intended to be started by the
<A HREF="@CGIPATH@/manpage?1+inetd">inetd(1M)</A>
process.

<P>
Under IRIX the normal installation procedure sets up the 
system so the faxq process will be started up by
<A HREF="@CGIPATH@/manpage?1+init">init(1M)</A>. 
On other systems you will need to arrange for this yourself
(typically by editing <B>/etc/rc.local</B> or similar).
faxgetty processes must be manually setup by editing the appropriate
control file for init; usually either <B>/etc/inittab</B> or
<B>/etc/ttytab</B>.
faxd.recv is setup to be started by inetd when the faxaddmodem script
is run to configure a modem for use with HylaFAX.

<P>
If you need to start the faxq server by
hand, consult the
<A HREF="@CGIPATH@/manpage?1+faxq">faxq(1M)</A>
manual page and the shell script <B>etc/hylafax</B>
that is used under IRIX.

<P>
Incoming facsimile are placed in the <B>recvq</B> subdirectory of the spooling
area and probably will need to be cleaned up periodically.  Likewise
there is logging information in the <B>log</B> subdirectory and accounting
information in the <B>etc</B> subdirectory of the spooling area that may need
some attention.

<P>
<IMG SRC="icons/info_icon.gif" ALIGN=left HSPACE=10>
<EM>The
<A HREF="@CGIPATH@/manpage?1+faxcron">faxcron</A>
script is designed to handle the
periodic maintenance of the spooling area.  This script is designed to
be run from
<A HREF="@CGIPATH@/manpage?1+cron">cron(1)</A>
every day.</EM>

<P>
If you want to do accounting check out the
<A HREF="@CGIPATH@/manpage?1+xferstats">xferstats</A>
and
<A HREF="@CGIPATH@/manpage?1+recvstats">recvstats</A>
scripts for a basic attack on how to process the
<A HREF="@CGIPATH@/xferlog?4+xferlog"><B>etc/xferlog</B></A>
accounting file that has records of all
facsimile transmissions and receptions.
Note that faxcron uses these
scripts to deliver statistics about facsimile that were
recently transmitted and received.

<P>
Otherwise the only matter to be concerned with is the support for data
connections.  If your modems are capable of differentiating data
connections from facsimile connections the fax server can be configured
to startup a getty 
program whenever a call from a data modem is received.
Alternatively, if
your modem does not support an adaptive-answer facility, but it is a
Class 1 modem, the server may be able to do
<A HREF="setup-advanced.html#AdaptiveAnswer">adaptive answering in software</A>.
In any event, beware that if you enable data connections you
should take the normal precautions you would take when there are dialup
ports on your machine.  Specifically, make sure that you have
passwords, appropriate file protections, and proper configuration of
<I>uucp</I> or similar.

<P>
If you encounter problems sending or receiving facsimile you can
enable copious tracing information by editing the HylaFAX
configuration files.
Consult the <A HREF="troubleshooting.html">Troubleshooting</A>
section and the
<A HREF="@CGIPATH@/manpage?4+config">config(4F)</A> manual page,
in particular, for help.
There is also information in the
<A HREF="FAQ/">HylaFAQ</A> on problems one might encounter during
server operation.

<P>
<A HREF="documentation.html"><IMG SRC="icons/next.gif">
HylaFAX documentation</A>.<BR>
<A HREF="toc.html"><IMG SRC="icons/back.gif">
HylaFAX table of contents</A>.<BR>

<HR>

<ADDRESS>
<A HREF="sam.html">Sam Leffler</A> / <A HREF="mailto:sam@engr.sgi.com">sam@engr.sgi.com</A>.
Last updated $Date: 1995/04/04 16:33:44 $.
</ADDRESS>

</BODY>
</HTML>
