<HTML><HEAD><TITLE>
HylaFAQ: Help with etc/dialrules?
</TITLE></HEAD><BODY>
<H1>Q34: Help with etc/dialrules?</H1>
<P><HR>
<A HREF="mailto:flexfaq@flake.asd.sgi.com">
<IMG SRC="@HTMLPATH@/icons/faq-feedback.gif" ALT="?" ALIGN=left HSPACE=8 BORDER=0>
</A>
Got something to say about this answer?  Use the 
<A HREF="@CGIPATH@/faq-feedback?Question=Help+with+etc%2Fdialrules%3F">
feedback form</A>
to send your comments to the HylaFAQ maintainers, or hit the question mark
button to invoke the mailer.
<BR CLEAR=left><HR>
<DL COMPACT>
<DT>Q.
<DD><I>Help with etc/dialrules?</I>
<P>
At our University, we can dial 4 digit numbers to reach internal lines,
and must dial 9 to get an external line.
<P>
I'd like to be able to use the same rules for sending faxes, and I've read
(but not understood) the
<A HREF="@CGIPATH@/manpage?4+dialrules">dialrules manpage</A>,
but I'm not sure what I have
to change for this to work.
<P>
If anyone else has already done this, could you please share the
changes with us? 
<P>
Right now, I'm using something like: sendfax -d Jack@9,9787320 /etc/fstab
But I'd like to be able to use: sendfax -d Jack@7320 /etc/fstab
(for internal faxes), and: sendfax -d Pizza@9671111 /etc/pizza
(for external calls).
<P>
<DT>A.
<DD>You perhaps want to match numbers with more than 7 digits and automatically
preprend "9,".  If so, then something like
<PRE>
^[0-9]{7,}$	= 9,&
</PRE>
would do the trick I think (use the
<A HREF="@CGIPATH@/manpage?1+dialtest">dialtest</A>
 program to debug your rules).
</DL>
<P><HR>
<ADDRESS>
<A HREF="@HTMLPATH@/sam.html">Sam Leffler</A> / <A HREF="mailto:sam@engr.sgi.com">sam@engr.sgi.com</A>.
</ADDRESS>
</BODY></HTML>
