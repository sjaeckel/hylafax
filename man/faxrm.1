.\"	$Header: /usr/people/sam/fax/./man/RCS/faxrm.1,v 1.21 1995/04/08 21:35:49 sam Rel $
.\"
.\" HylaFAX Facsimile Software
.\"
.\" Copyright (c) 1990-1995 Sam Leffler
.\" Copyright (c) 1991-1995 Silicon Graphics, Inc.
.\" HylaFAX is a trademark of Silicon Graphics
.\" 
.\" Permission to use, copy, modify, distribute, and sell this software and 
.\" its documentation for any purpose is hereby granted without fee, provided
.\" that (i) the above copyright notices and this permission notice appear in
.\" all copies of the software and related documentation, and (ii) the names of
.\" Sam Leffler and Silicon Graphics may not be used in any advertising or
.\" publicity relating to the software without the specific, prior written
.\" permission of Sam Leffler and Silicon Graphics.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND, 
.\" EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY 
.\" WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  
.\" 
.\" IN NO EVENT SHALL SAM LEFFLER OR SILICON GRAPHICS BE LIABLE FOR
.\" ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND,
.\" OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
.\" WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF 
.\" LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE 
.\" OF THIS SOFTWARE.
.\"
.if n .po 0
.ds Fx \fIHyla\s-1FAX\s+1\fP
.TH FAXRM 1 "December 22, 1994"
.SH NAME
faxrm \- remove a \*(Fx job queued for transmission
.SH SYNOPSIS
.B faxrm
[
.B \-k
] [
.B \-h
.I hostname
]
.IR id ...
.SH DESCRIPTION
.I faxrm
removes one or more \*(Fx jobs that
are queued for transmission.
If a job that is to be removed is being processed by a server,
it is first aborted.
.PP
An 
.I id
is a number that identifies a
.I job
(default) or
.I "job group"
submitted to \*(Fx; these numbers are printed by
.IR sendfax (1)
when jobs are queued for transmission.
Job and job group identifiers can also be obtained from
.IR faxstat (1).
.PP
Users can only remove jobs that they
have queued;
except the
.I fax
user and the super-user who can remove any job.
.SH OPTIONS
.TP 10
.B \-g
Interpret each
.I id
as a
.IR "job group identifier" .
A job group identifier is the number assigned by \*(Fx
to each group of jobs submitted together.
This number is printed by
.I sendfax
when jobs are submitted.
.TP 10
.BI \-h " host"
Force the server to be contacted on a specific
.IR host .
The
.I host
may be either a symbolic name or a network address.
If no
.B \-h
option is supplied,
.I faxrm
uses the
.SM FAXSERVER
environment variable to identify the \*(Fx server to
which the jobs should be directed.
If no server is specified then
.I faxrm
attempts to contact a server on the local host.
.TP
.B \-k
Force any untransmitted portions of the jobs
to be returned to the sender by electronic mail.
By default,
jobs that are removed have their contents discarded.
.SH DIAGNOSTICS
.B "Job %s removed." 
A confirmation that the operation was completed successfully.
.PP
.B "Job %s not removed: it was not queued."
The specified job was not found in the server's queue.
.PP
.B "Job %s not removed: open failed; check SYSLOG."
.I or
.B "Job %s not removed: unlink failed; check SYSLOG."
The server was unable to do some necessary operation on the 
remote host and so could not remove the job.
More information about what went wrong can be found in the
.IR syslogd (1M)
log file on the server's machine.
.PP
.B "Document for job %s not removed: unlink failed; check SYSLOG."
The job description file was removed, but one or
more of the associated document files was not.
More information can be found in the log file on the server's machine.
.PP
.B "Job %s not removed: could not establish server process owner."
A request was made by the ``fax'' user to remove
a job that it did submit.
This request was not accepted because
the server was unable to deduce the identity under which
it was executing.  That is, there was no password file
entry for the server's effective user id.
This (usually) indicates that the entry in the file
.I /usr/etc/inetd.conf
on the remove machine is setup wrong; see
.IR faxd.recv (1M)
for more information.
.PP
.B "Job %s not removed: you neither own it nor are the fax user."
A request was made to remove a job that the user does not own
(and the user is not the ``fax'' user or the super-user).
.PP
.B "Service refused; you do not have permission to use the fax server from %s."
The client is not permitted to remove
jobs on this server from the indicated host.
Only those hosts and users listed in the file
.B etc/hosts
on the server machine are permitted to remove jobs.
.SH BUGS
.I faxrm
must be run on the same host on which the job was
submitted.
.SH "SEE ALSO"
.IR hylafax (1),
.IR sendfax (1),
.IR faxalter (1),
.IR faxstat (1),
.IR faxd.recv (1M)
