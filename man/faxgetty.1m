.\"	$Header: /usr/people/sam/fax/./man/RCS/faxgetty.1m,v 1.9 1995/04/08 21:35:44 sam Rel $
.\"
.\" HylaFAX Facsimile Software
.\"
.\" Copyright (c) 1990-1995 Sam Leffler
.\" Copyright (c) 1991-1995 Silicon Graphics, Inc.
.\" HylaFAX is a trademark of Silicon Graphics
.\" 
.\" Permission to use, copy, modify, distribute, and sell this software and 
.\" its documentation for any purpose is hereby granted without fee, provided
.\" that (i) the above copyright notices and this permission notice appear in
.\" all copies of the software and related documentation, and (ii) the names of
.\" Sam Leffler and Silicon Graphics may not be used in any advertising or
.\" publicity relating to the software without the specific, prior written
.\" permission of Sam Leffler and Silicon Graphics.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND, 
.\" EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY 
.\" WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  
.\" 
.\" IN NO EVENT SHALL SAM LEFFLER OR SILICON GRAPHICS BE LIABLE FOR
.\" ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND,
.\" OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
.\" WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF 
.\" LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE 
.\" OF THIS SOFTWARE.
.\"
.if n .po 0
.ds Fx \fIHyla\s-1FAX\s+1\fP
.TH FAXGETTY 1M "April 3, 1995"
.SH NAME
faxgetty \- \*(Fx front-door process
.SH SYNOPSIS
.B ${LIBEXEC}/faxgetty
[
.B \-d
] [
.B \-D
] [
.B \-p
] [
.B \-q
.I queue-dir
]
.I device
.SH DESCRIPTION
.I faxgetty
is the \*(Fx component that listens for incoming phone calls
and either handles each call
directly or hands it off to an appropriate program.
In addition
.I faxgetty
monitors modem usage and notifies the \*(Fx scheduler process
when a modem's status changes; e.g. when a modem is busy
with an outbound call.
.PP
One
.I faxgetty
should be run for each facsimile modem on a machine.
.I faxgetty
is typically started by
.IR init (1M).
.I faxgetty
can also be used with data modems; this may be desirable if
some of the non-facsimile features are important, such as the
support for screening calls according to Caller-ID information.
.PP
.I faxgetty
listens to its facsimile modem for phone calls
and to a
.SM FIFO
special file on which it accepts command directives from
administrative commands such as
.IR faxanswer (1M)
and
.IR faxabort (1M).
.I faxgetty
also catches 
.SM SIGTERM
and
.SM SIGINT
signals; cleaning up any necessary resources before exiting.
.PP
Many aspects of
.I faxgetty
operation may be controlled through a configuration file.
In particular, for 
.I faxgetty
to automatically invoke the
.IR getty (1M)
program to handle incoming data connections the
.B GettyArgs
parameter must be setup in the configuration file.
The configuration file is located in the spooler hierarchy;
consult
.IR config (4F)
for detailed information on its contents.
.SH OPTIONS
.TP 
.B \-d
Enable the generation of certain diagnostic messages.
In particular, if this option is set
.I faxgetty
will send messages via
.IR syslog (3)
when it is unable to contact the
.I faxq
process to notify it of modem status changes.
.TP
.B \-D
This option forces
.I faxgetty
to detach itself from the controlling tty from which it was invoked.
In normal operation
.I faxgetty
will 
.B not
dissassociate itself from the controlling tty.
.TP
.B \-p
Do not change the process priority when receiving facsimile.
Normally
.I faxgetty
will raise its priority to reduce i/o latency.
This option is useful for debugging.
.TP
.BI \-q " dir"
The specified directory is treated as the spooling area.
The default spooling area,
.IR ${SPOOL} ,
is defined at the time the software is built.
.SH FILES
.ta \w'${SPOOL}/etc/config.\fIdevice\fP    'u
.nf
${SPOOL}/FIFO.\fIdevice\fP	FIFO special file for submitting commands
${SPOOL}/etc/config.\fIdevice\fP	device-specific configuration file
.fi
.PP
Consult
.IR hylafax (4F)
for a complete discussion of the structure and
content of the spooling area.
.SH "SEE ALSO"
.IR faxabort (1M),
.IR faxanswer (1M),
.IR faxq (1M),
.IR getty (1M),
.IR hylafax (4F),
.IR config (4F)
