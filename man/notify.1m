.\"	$Header: /usr/people/sam/fax/./man/RCS/notify.1m,v 1.18 1995/04/08 21:36:00 sam Rel $
.\"
.\" HylaFAX Facsimile Software
.\"
.\" Copyright (c) 1993-1995 Sam Leffler
.\" Copyright (c) 1993-1995 Silicon Graphics, Inc.
.\" HylaFAX is a trademark of Silicon Graphics
.\" 
.\" Permission to use, copy, modify, distribute, and sell this software and 
.\" its documentation for any purpose is hereby granted without fee, provided
.\" that (i) the above copyright notices and this permission notice appear in
.\" all copies of the software and related documentation, and (ii) the names of
.\" Sam Leffler and Silicon Graphics may not be used in any advertising or
.\" publicity relating to the software without the specific, prior written
.\" permission of Sam Leffler and Silicon Graphics.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND, 
.\" EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY 
.\" WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  
.\" 
.\" IN NO EVENT SHALL SAM LEFFLER OR SILICON GRAPHICS BE LIABLE FOR
.\" ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND,
.\" OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
.\" WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF 
.\" LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE 
.\" OF THIS SOFTWARE.
.\"
.if n .po 0
.ds Fx \fIHyla\s-1FAX\s+1\fP
.ds Ps P\s-2OST\s+2S\s-2CRIPT\s+2
.TH NOTIFY 1M "June 14, 1994"
.SH NAME
notify \- \*(Fx user notification script
.SH SYNOPSIS
.B bin/notify
.I qfile
.I why
.I jobtime
.I pid
.I number
[
.I nextTry
]
.SH DESCRIPTION
.B bin/notify
is the command script invoked by the facsimile server to notify a
user about the status of an outbound job.
The default notification script sends the appropriate user
electronic mail describing the event or action.
The arguments are:
.TP 10
.B qfile
the pathname of the job description file.
.TP
.B why
a string that specifies why the user is being notified; one of:
.sp .5
.nf
.ta  +\w'poll_no_document    'u +\w'Notes    'u
\fBWhy\fP	\fBNotes\fP	\fBMeaning\fP
\fIdone\fP		job was completed successfully
\fIfailed\fP	\(dg \(dd	job was not completed
\fIrejected\fP	\(dg	job was rejected for specified reasons
\fIblocked\fP		job is blocked by concurrent jobs
\fIrequeued\fP	\(dd	job was not completed, but was requeued for retry
\fIremoved\fP		job was deleted from the queue
\fIkilled\fP	\(dg	job was deleted from the queue
\fItimedout\fP	\(dg	job could not be sent after repeated attempts
\fIformat_failed\fP	\(dg	conversion of \*(Ps failed
\fIno_formatter\fP	\(dg	the \*(Ps to facsimile conversion program was not found
\fIpoll_rejected\fP		a polling request was rejected by the remote side
\fIpoll_no_document\fP		a polling request failed because nothing was available
\fIpoll_failed\fP		a polling request failed for an unknown reason
.sp .5
.fi
\(dg Any pages that were not sucessfully transmitted should be
returned to the sender.
.br
\(dd A transcript of the failed communication is returned
to the sender with the
.IR transcript (1M)
command.
.TP
.B jobtime
the total transmission time of a successful job or the connect
time of a failed request (passed as a string).
.TP
.B pid
the process identifier of the \*(Fx process that processed the
job (used for locating communication transcripts).
.TP 
.B number
the canonical phone number of the destination.
.TP
.B nextTry
the time (passed as a string) at which the next attempt will be
made to complete the job.
This parameter is passed only if
.B why
is ``requeued''.
.SH NOTES
The following programs may be invoked to return unsent documents
to the sender:
.IR tar (1),
.IR uuencode (1),
and
.IR compress (1).
Which programs and the exact format is site dependent.
.SH FILES
.nf
.ta \w'${SPOOL}    'u
${SPOOL}	spooling area
bin/transcript	for returning communication transcript
/usr/lib/sendmail	for delivering mail
.fi
.SH "SEE ALSO"
.IR faxq (1M),
.IR transcript (1M),
.IR hylafax (4F),
.IR sendq (4F)
